import{d as C,S as O,s as E,M as g,N as S,z as y,f as k,r as u,n as R,A as P,j as i}from"./main-deOYDPWY.js";import{c as l,b as A}from"./index-B3fMHV4j.js";import{E as K}from"./eye-DEYj2jSP.js";const D=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],I=C("eye-off",D);var $=class extends O{#e;#r=void 0;#t;#s;constructor(t,e){super(),this.#e=t,this.setOptions(e),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#e.defaultMutationOptions(t),E(this.options,e)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),e?.mutationKey&&this.options.mutationKey&&g(e.mutationKey)!==g(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#r}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#i(),this.#o()}mutate(t,e){return this.#s=e,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(t)}#i(){const t=this.#t?.state??S();this.#r={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){y.batch(()=>{if(this.#s&&this.hasListeners()){const e=this.#r.variables,r=this.#r.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#s.onSuccess?.(t.data,e,r,s),this.#s.onSettled?.(t.data,null,e,r,s)):t?.type==="error"&&(this.#s.onError?.(t.error,e,r,s),this.#s.onSettled?.(void 0,t.error,e,r,s))}this.listeners.forEach(e=>{e(this.#r)})})}};function G(t,e){const r=k(),[s]=u.useState(()=>new $(r,t));u.useEffect(()=>{s.setOptions(t)},[s,t]);const o=u.useSyncExternalStore(u.useCallback(a=>s.subscribe(y.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),d=u.useCallback((a,c)=>{s.mutate(a,c).catch(R)},[s]);if(o.error&&P(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:d,mutateAsync:o.mutate}}function L({className:t,type:e,...r}){return i.jsx("input",{type:e,"data-slot":"input",className:l("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var U=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],q=U.reduce((t,e)=>{const r=A(`Primitive.${e}`),s=u.forwardRef((o,d)=>{const{asChild:a,...c}=o,n=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(n,{...c,ref:d})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),B="Label",w=u.forwardRef((t,e)=>i.jsx(q.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));w.displayName=B;var T=w;function _({className:t,...e}){return i.jsx(T,{"data-slot":"label",className:l("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function H({field:t,label:e,placeholder:r,helperText:s,multiline:o=!1,rows:d=3,disabled:a=!1,id:c,maxLength:n,showCharCount:j,className:v,password:m=!1}){const[p,N]=u.useState(!1),b=t.state.value?.length||0,h=t.state.meta.isTouched&&Array.isArray(t.state.meta.errors)&&t.state.meta.errors&&t.state.meta.errors.length>0,x=h&&Array.isArray(t.state.meta.errors)?t.state.meta.errors[0]:void 0,f={id:c||`field-${t.name}`,name:t.name,value:t.state.value||"",onChange:M=>t.handleChange(M.target.value),onBlur:t.handleBlur,disabled:a,placeholder:r,maxLength:n,type:m&&!p?"password":"text",className:l(h&&"border-red-500 focus-visible:ring-red-500",m&&"pr-10",v)};return i.jsxs("div",{className:"space-y-2",children:[e&&i.jsx(_,{htmlFor:f.id,className:l(h&&"text-red-500"),children:e}),o?i.jsx("textarea",{...f,rows:d,className:l("flex min-h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",h&&"border-red-500 focus-visible:ring-red-500",v)}):i.jsxs("div",{className:"relative",children:[i.jsx(L,{...f}),m&&i.jsx("button",{type:"button",onClick:()=>N(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:a,tabIndex:-1,children:p?i.jsx(I,{className:"h-4 w-4"}):i.jsx(K,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("div",{className:"flex-1",children:(x||s)&&i.jsx("p",{className:l("text-sm",h?"text-red-500":"text-muted-foreground"),children:x||s})}),j&&i.jsxs("p",{className:l("text-sm ml-2 shrink-0",n&&b>=n*.9?b>=n?"text-red-500":"text-yellow-500":"text-muted-foreground"),children:[b,n!==void 0?`/${n}`:""]})]})]})}export{H as C,_ as L,G as u};
