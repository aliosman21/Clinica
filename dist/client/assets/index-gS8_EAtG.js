import{d as c,u as g,H as o,j as e}from"./main-deOYDPWY.js";import{B as n}from"./button-CaKppYKQ.js";import{B as x}from"./badge-DcPkLrDx.js";import{A as v}from"./arrow-left-D0rM7Gj6.js";import{S as y}from"./square-pen-6FTiLTda.js";import{F as h}from"./file-text-DlucEsTC.js";import{C as b}from"./clock-DaH6aTNa.js";import{E as w}from"./eye-DEYj2jSP.js";import"./index-B3fMHV4j.js";const k=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],D=c("activity",k);const C=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],u=c("calendar",C);const I=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],A=c("dollar-sign",I);const _=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],P=c("mail",_);const S=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],M=c("map-pin",S);const E=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],L=c("phone",E);function V(){const a=g(),t=o.useLoaderData(),{patientId:j}=o.useParams(),i=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not provided",p=s=>{if(!s)return"Unknown";const r=new Date,l=new Date(s);let d=r.getFullYear()-l.getFullYear();const m=r.getMonth()-l.getMonth();return(m<0||m===0&&r.getDate()<l.getDate())&&d--,d},N=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),f=s=>{switch(s){case"COMPLETED":return"default";case"PROCESSING":return"secondary";case"PENDING":return"outline";case"CANCELLED":return"destructive";default:return"outline"}};return e.jsxs("div",{className:"container mx-auto py-4 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(n,{variant:"ghost",size:"sm",onClick:()=>a({to:"/patients"}),children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Back to Patients"]}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold",children:t.name}),e.jsx("p",{className:"text-muted-foreground",children:"Patient Details"})]})]}),e.jsxs(n,{onClick:()=>a({to:"/patients/$patientId/edit",params:{patientId:j}}),children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Edit Patient"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-card rounded-lg border p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Patient Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-4 justify-center",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-100 text-blue-600",children:e.jsx(u,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Date of Birth"}),e.jsx("p",{className:"text-sm",children:i(t.dateOfBirth)}),t.dateOfBirth&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Age: ",p(t.dateOfBirth)," years"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 justify-center",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-green-100 text-green-600",children:e.jsx(P,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Email"}),e.jsx("p",{className:"text-sm",children:t.email||"Not provided"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-4 justify-center",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-purple-100 text-purple-600",children:e.jsx(L,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Phone"}),e.jsx("p",{className:"text-sm",children:t.phone||"Not provided"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 justify-center",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-orange-100 text-orange-600",children:e.jsx(M,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Address"}),e.jsx("p",{className:"text-sm",children:t.address||"Not provided"})]})]})]})]})]}),e.jsxs("div",{className:"bg-card rounded-lg border p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[e.jsx(h,{className:"w-5 h-5 mr-2"}),"Recent Orders"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(x,{variant:"secondary",children:[t._count.orders," total orders"]}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>a({to:"/orders"}),children:"View All Orders"})]})]}),t.orders&&t.orders.length>0?e.jsxs("div",{className:"space-y-4",children:[t.orders.map(s=>e.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("p",{className:"font-semibold",children:["Order #",s.orderNumber||s.id.slice(-8)]}),e.jsx(x,{variant:f(s.status),children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:new Date(s.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s.orderItems?.length||0," test",(s.orderItems?.length||0)!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:s.totalCost?N(s.totalCost):"TBD"})]})]}),s.estimatedReady&&e.jsxs("div",{className:"flex items-center space-x-2 mt-2 text-sm",children:[e.jsx(b,{className:"w-4 h-4 text-orange-500"}),e.jsxs("span",{className:"text-orange-600",children:["Est. ready: ",new Date(new Date(s.createdAt).getTime()+s.estimatedReady*60*60*1e3).toLocaleDateString()]})]}),s.orderItems&&s.orderItems.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tests:"}),e.jsxs("div",{className:"space-y-1",children:[s.orderItems.slice(0,2).map(r=>e.jsxs("p",{className:"text-xs text-muted-foreground",children:["• ",r.labTest?.name||"Unknown Test"]},r.id)),s.orderItems.length>2&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["• +",s.orderItems.length-2," more test",s.orderItems.length-2!==1?"s":"","..."]})]})]})]}),e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>a({to:"/orders/$orderId",params:{orderId:s.id}}),children:[e.jsx(w,{className:"w-4 h-4 mr-1"}),"View"]})]})},s.id)),t.orders.length>=10&&e.jsx("div",{className:"text-center pt-4 border-t",children:e.jsxs(n,{variant:"outline",onClick:()=>a({to:"/orders"}),children:["View All ",t._count.orders," Orders"]})})]}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(D,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),e.jsx("p",{children:"No orders found for this patient"}),e.jsx(n,{variant:"outline",className:"mt-4",onClick:()=>a({to:"/orders"}),children:"View Orders"})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-card rounded-lg border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total Orders"}),e.jsx("span",{className:"text-lg font-bold",children:t._count.orders})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Member Since"}),e.jsx("span",{className:"text-sm",children:i(t.createdAt)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Last Updated"}),e.jsx("span",{className:"text-sm",children:i(t.updatedAt)})]})]})]})})]})]})}export{V as component};
