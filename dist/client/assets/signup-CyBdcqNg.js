import{c as d,a as c,R as u,j as s,L as m}from"./main-deOYDPWY.js";import{u as p,C as t}from"./CustomTextInput-CVvPr6Oa.js";import{u as x}from"./useForm-DeDg2o24.js";import"./index-B3fMHV4j.js";import"./eye-DEYj2jSP.js";const b=c("297629842e2d65fb3b4d80b076ff308dd6d22bdba756791f6f74ccb618c756c6"),g=d({method:"POST"}).handler(b);function F(){const a=u.useNavigate(),r=p({mutationFn:g,onSuccess:e=>{if(!e?.error){console.log("Signup successful",e),a({to:"/login"});return}},onError:e=>{console.error("Signup error:",e)}}),{Field:n,handleSubmit:i,state:h,Subscribe:o}=x({defaultValues:{email:"",password:""},onSubmit:async({value:e})=>{r.mutate({data:e}),console.log("submitted values:",e)}});return s.jsx("div",{className:" flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full space-y-4 p-6 border rounded-lg",children:[s.jsx("h1",{className:"text-2xl font-bold text-center",children:"Sign Up"}),s.jsxs("div",{children:[s.jsx(n,{name:"email",validators:{onChange:({value:e})=>{if(!e)return"Email is required";if(!/\S+@\S+\.\S+/.test(e))return"Please enter a valid email"}},children:e=>s.jsx(t,{field:e,label:"Email",placeholder:"Enter your email"})}),s.jsx(n,{name:"password",validators:{onChange:({value:e})=>{if(!e)return"Password is required"}},children:e=>s.jsx(t,{field:e,label:"Password",placeholder:"Enter your password",password:!0})})]}),s.jsx(o,{selector:e=>[e.canSubmit,e.isTouched],children:([e,l])=>s.jsx("button",{onClick:i,disabled:r.isPending||!e||!l,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:r.isPending?"Signing up...":"Sign Up"})}),r.data?.error&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-red-500 mt-4",children:r.data.message}),r.data.userExists&&s.jsx(m,{to:"/login",className:"text-blue-500",children:"Login instead"})]})]})})}export{F as component};
